{"ast":null,"code":"import React,{useEffect}from'react';import'./LoveLock.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LoveLock(_ref){let{onUnlock}=_ref;useEffect(()=>{// ==== Setup DOM references (after mount) ====\nconst TARGET_CODE=[2,1,8,0,3];const dials=Array.from(document.querySelectorAll('.dial'));const digits=dials.map(d=>d.querySelector('.digit'));const upButtons=dials.map(d=>d.querySelector('.up'));const downButtons=dials.map(d=>d.querySelector('.down'));const lock3d=document.getElementById('lock3d');const lockCard=document.getElementById('lockCard');const loveMessage=document.getElementById('loveMessage');const loveOverlay=document.getElementById('loveOverlay');const scene=document.getElementById('scene');let values=[0,0,0,0,0];let audioCtx;let lastTickTime=0;let tickPlaybackRate=1;function clampDigit(n){return(n+10)%10;}function render(){digits.forEach((d,i)=>{if(!d)return;d.textContent=String(values[i]);d.dataset.value=String(values[i]);});}function nudge(index,delta){values[index]=clampDigit(values[index]+delta);render();wobble(index,delta);playTick();}function wobble(index,delta){const digitEl=digits[index];if(!digitEl||!digitEl.animate)return;digitEl.animate([{transform:'rotateX(0deg)',opacity:1},{transform:\"rotateX(\".concat(delta>0?-70:70,\"deg)\"),opacity:0.4},{transform:'rotateX(0deg)',opacity:1}],{duration:160,easing:'cubic-bezier(0.22, 1, 0.36, 1)',transformOrigin:'50% 50%'});}function pulse(el){if(!el||!el.animate)return;el.animate([{transform:'scale(1)'},{transform:'scale(1.04)'},{transform:'scale(1)'}],{duration:220,easing:'ease-out'});}function ensureAudio(){if(!audioCtx){try{audioCtx=new(window.AudioContext||window.webkitAudioContext)();}catch(_unused){}}}function playTick(){ensureAudio();if(!audioCtx)return;const now=audioCtx.currentTime;const dt=now-lastTickTime;lastTickTime=now;tickPlaybackRate=Math.min(1.6,0.9+1/Math.max(0.05,dt)*0.04);const osc=audioCtx.createOscillator();const gain=audioCtx.createGain();const filter=audioCtx.createBiquadFilter();filter.type='lowpass';filter.frequency.value=2200;osc.type='triangle';osc.frequency.setValueAtTime(480*tickPlaybackRate,now);gain.gain.setValueAtTime(0.0001,now);gain.gain.exponentialRampToValueAtTime(0.08,now+0.005);gain.gain.exponentialRampToValueAtTime(0.0001,now+0.06);osc.connect(filter);filter.connect(gain);gain.connect(audioCtx.destination);osc.start(now);osc.stop(now+0.08);}function shake(el){if(!el||!el.animate)return;el.animate([{transform:'translateX(0)'},{transform:'translateX(-6px)'},{transform:'translateX(6px)'},{transform:'translateX(-4px)'},{transform:'translateX(4px)'},{transform:'translateX(0)'}],{duration:360,easing:'ease-in-out'});}function fireConfetti(){spawnConfetti(160);}function animateShine(){if(!lock3d||!lock3d.animate)return;lock3d.animate([{filter:'drop-shadow(0 10px 24px rgba(255, 61, 110, 0.25))'},{filter:'drop-shadow(0 10px 24px rgba(255, 61, 110, 0.6))'},{filter:'drop-shadow(0 10px 24px rgba(255, 61, 110, 0.25))'}],{duration:900,easing:'ease-in-out'});spawnHearts(18);}function checkUnlock(){const isCorrect=values.every((v,i)=>v===TARGET_CODE[i]);if(!isCorrect){lockCard&&lockCard.classList.remove('unlocked');if(loveMessage){loveMessage.hidden=true;loveMessage.classList.remove('show');}try{navigator.vibrate&&navigator.vibrate(80);}catch(_unused2){}shake(lockCard);return false;}lockCard&&lockCard.classList.add('unlocked');pulse(lock3d);fireConfetti();if(loveMessage){loveMessage.hidden=false;requestAnimationFrame(()=>loveMessage.classList.add('show'));}animateShine();try{navigator.vibrate&&navigator.vibrate([30,60,30]);}catch(_unused3){}startMorphToHeart();// Trigger unlocking of HBD screen shortly after success animation starts\nsetTimeout(()=>{onUnlock&&onUnlock();},1000);return true;}function setFromQuery(){const params=new URLSearchParams(window.location.search);const code=params.get('code');if(code&&/^\\d{5}$/.test(code)){values=code.split('').map(c=>Number(c));render();}}// Parallax\nfunction handleMouseMove(e){if(!lockCard)return;const rect=lockCard.getBoundingClientRect();const x=(e.clientX-rect.left)/rect.width-0.5;const y=(e.clientY-rect.top)/rect.height-0.5;lockCard.style.transform=\"rotateX(\".concat((-y*8).toFixed(2),\"deg) rotateY(\").concat((x*12).toFixed(2),\"deg)\");}function handleMouseLeave(){if(!lockCard)return;lockCard.style.transform='rotateX(0deg) rotateY(0deg)';}scene&&scene.addEventListener('mousemove',handleMouseMove);scene&&scene.addEventListener('mouseleave',handleMouseLeave);// Bind buttons and interactions\nupButtons.forEach((btn,i)=>{if(!btn)return;let holdInt;let holdTimeout;let holdStarted=false;let isPressing=false;let activePointerId=null;const startHold=()=>{holdStarted=true;nudge(i,+1);checkUnlock();holdInt=setInterval(()=>{nudge(i,+1);checkUnlock();},120);};const clearHold=()=>{if(holdTimeout){clearTimeout(holdTimeout);holdTimeout=null;}if(holdInt){clearInterval(holdInt);holdInt=null;}};btn.addEventListener('pointerdown',e=>{isPressing=true;activePointerId=e.pointerId;holdStarted=false;holdTimeout=setTimeout(startHold,300);if(btn.setPointerCapture)btn.setPointerCapture(e.pointerId);});const release=e=>{if(!isPressing)return;if(e&&activePointerId!==null&&e.pointerId!==activePointerId)return;const wasHold=holdStarted;isPressing=false;activePointerId=null;clearHold();if(!wasHold){nudge(i,+1);checkUnlock();}};btn.addEventListener('pointerup',release);btn.addEventListener('pointerleave',release);btn.addEventListener('pointercancel',release);btn.addEventListener('click',e=>{e.preventDefault();e.stopPropagation();});});downButtons.forEach((btn,i)=>{if(!btn)return;let holdInt;let holdTimeout;let holdStarted=false;let isPressing=false;let activePointerId=null;const startHold=()=>{holdStarted=true;nudge(i,-1);checkUnlock();holdInt=setInterval(()=>{nudge(i,-1);checkUnlock();},120);};const clearHold=()=>{if(holdTimeout){clearTimeout(holdTimeout);holdTimeout=null;}if(holdInt){clearInterval(holdInt);holdInt=null;}};btn.addEventListener('pointerdown',e=>{isPressing=true;activePointerId=e.pointerId;holdStarted=false;holdTimeout=setTimeout(startHold,300);if(btn.setPointerCapture)btn.setPointerCapture(e.pointerId);});const release=e=>{if(!isPressing)return;if(e&&activePointerId!==null&&e.pointerId!==activePointerId)return;const wasHold=holdStarted;isPressing=false;activePointerId=null;clearHold();if(!wasHold){nudge(i,-1);checkUnlock();}};btn.addEventListener('pointerup',release);btn.addEventListener('pointerleave',release);btn.addEventListener('pointercancel',release);btn.addEventListener('click',e=>{e.preventDefault();e.stopPropagation();});});// Keyboard, wheel, and drag support on dials\ndials.forEach((dial,i)=>{if(!dial)return;dial.addEventListener('click',ev=>{const upEl=ev.target.closest('.up');const downEl=ev.target.closest('.down');if(upEl){nudge(i,+1);checkUnlock();return;}if(downEl){nudge(i,-1);checkUnlock();return;}const rect=dial.getBoundingClientRect();const y=ev.clientY-rect.top;if(y<rect.height/2){nudge(i,+1);}else{nudge(i,-1);}checkUnlock();});dial.addEventListener('keydown',ev=>{if(ev.key==='ArrowUp'){nudge(i,+1);ev.preventDefault();checkUnlock();}if(ev.key==='ArrowDown'){nudge(i,-1);ev.preventDefault();checkUnlock();}if(ev.key==='Enter'){checkUnlock();ev.preventDefault();}});dial.addEventListener('wheel',ev=>{ev.preventDefault();const step=Math.sign(-ev.deltaY);if(step!==0){nudge(i,step);checkUnlock();}},{passive:false});let startY=0;let acc=0;let dragging=false;const STEP_PX=18;dial.addEventListener('pointerdown',ev=>{if(ev.target.closest('.arrow'))return;dragging=true;startY=ev.clientY;acc=0;dial.setPointerCapture(ev.pointerId);dial.classList.add('active');});dial.addEventListener('pointermove',ev=>{if(!dragging)return;const dy=startY-ev.clientY;const steps=Math.trunc((dy-acc)/STEP_PX);if(steps!==0){acc+=steps*STEP_PX;nudge(i,steps);checkUnlock();}});dial.addEventListener('pointerup',()=>{dragging=false;acc=0;dial.classList.remove('active');});dial.addEventListener('pointercancel',()=>{dragging=false;acc=0;dial.classList.remove('active');});});// Canvases\nconst confettiCanvas=document.getElementById('confettiCanvas');const heartsCanvas=document.getElementById('heartsCanvas');const morphCanvas=document.getElementById('morphCanvas');const DPR=Math.min(2,window.devicePixelRatio||1);function fitCanvas(canvas){if(!canvas)return;const{innerWidth:w,innerHeight:h}=window;canvas.width=Math.floor(w*DPR);canvas.height=Math.floor(h*DPR);canvas.style.width=w+'px';canvas.style.height=h+'px';}fitCanvas(confettiCanvas);fitCanvas(heartsCanvas);fitCanvas(morphCanvas);const handleResize=()=>{fitCanvas(confettiCanvas);fitCanvas(heartsCanvas);fitCanvas(morphCanvas);render();heartTargets=buildHeartTargets();};window.addEventListener('resize',handleResize);// Background particles\nconst bg=document.getElementById('bgParticles');if(bg&&bg.children.length===0){const COUNT=60;for(let i=0;i<COUNT;i++){const el=document.createElement('div');el.className='particle';el.style.left=Math.random()*100+'vw';el.style.animationDelay=(Math.random()*20).toFixed(2)+'s';el.style.animationDuration=(16+Math.random()*16).toFixed(2)+'s';el.style.opacity=(0.3+Math.random()*0.6).toFixed(2);bg.appendChild(el);}}// Confetti\nlet confetti=[];function spawnConfetti(){let burst=arguments.length>0&&arguments[0]!==undefined?arguments[0]:120;if(!confettiCanvas)return;const cw=confettiCanvas.width;const ch=confettiCanvas.height;for(let i=0;i<burst;i++){confetti.push({x:cw/2,y:ch*0.25,vx:(Math.random()-0.5)*6*DPR,vy:(Math.random()*-6-2)*DPR,g:0.15*DPR,hue:330+Math.random()*40,size:3+Math.random()*3,life:100+Math.random()*60});}}function drawConfetti(ctx){confetti=confetti.filter(c=>c.life>0);for(const c of confetti){c.x+=c.vx;c.y+=c.vy;c.vy+=c.g;c.life-=1;ctx.save();ctx.translate(c.x,c.y);ctx.rotate((c.x+c.y)*0.01);ctx.fillStyle=\"hsl(\".concat(c.hue,\"deg 90% 60% / 0.95)\");ctx.fillRect(-c.size,-c.size,c.size*2,c.size*2);ctx.restore();}}// Hearts\nlet hearts=[];function spawnHearts(){let count=arguments.length>0&&arguments[0]!==undefined?arguments[0]:12;if(!heartsCanvas)return;const w=heartsCanvas.width;const h=heartsCanvas.height;for(let i=0;i<count;i++){const x=Math.random()*w;const y=h+Math.random()*60;hearts.push({x,y,vx:(Math.random()-0.5)*0.6*DPR,vy:-(1.2+Math.random()*0.8)*DPR,size:10+Math.random()*14,alpha:0.6+Math.random()*0.4});}}function drawHeart(ctx,x,y,size,color,alpha){ctx.save();ctx.translate(x,y);ctx.scale(size,size);ctx.beginPath();ctx.moveTo(0,-0.5);ctx.bezierCurveTo(0.5,-1.2,1.8,-0.1,0,1);ctx.bezierCurveTo(-1.8,-0.1,-0.5,-1.2,0,-0.5);ctx.fillStyle=\"rgba(255, 61, 110, \".concat(alpha,\")\");ctx.fill();ctx.restore();}function drawHearts(ctx){hearts=hearts.filter(h=>h.y>-40);for(const h of hearts){h.x+=h.vx;h.y+=h.vy;drawHeart(ctx,h.x,h.y,h.size,'#ff3d6e',h.alpha);}}// Morph to heart\nlet morphState={active:false,t:0};let particles=[];const PARTICLE_COUNT=600;function createParticles(){const w=morphCanvas?morphCanvas.width:0;const h=morphCanvas?morphCanvas.height:0;particles=Array.from({length:PARTICLE_COUNT}).map(()=>({x:Math.random()*w,y:Math.random()*h,vx:(Math.random()-0.5)*0.3*DPR,vy:(Math.random()-0.5)*0.3*DPR,tx:0,ty:0,size:1+Math.random()*2,hue:330+Math.random()*40}));}createParticles();function heartPoint(u,v){let scale=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;const x=16*Math.pow(Math.sin(u),3);const y=13*Math.cos(u)-5*Math.cos(2*u)-2*Math.cos(3*u)-Math.cos(4*u);return{x:x*scale+v.x,y:-y*scale+v.y};}function buildHeartTargets(){const w=morphCanvas?morphCanvas.width:0;const h=morphCanvas?morphCanvas.height:0;const center={x:w/2,y:h/2};const scale=Math.min(w,h)*0.02;const targets=[];for(let i=0;i<particles.length;i++){const u=i/particles.length*Math.PI*2;const p=heartPoint(u,center,scale);targets.push(p);}return targets;}let heartTargets=buildHeartTargets();function startMorphToHeart(){var _document$getElementB;morphState.active=true;morphState.t=0;(_document$getElementB=document.getElementById('scene'))===null||_document$getElementB===void 0?void 0:_document$getElementB.classList.add('fade-out');if(loveOverlay){loveOverlay.hidden=false;requestAnimationFrame(()=>loveOverlay.classList.add('show'));}}function drawMorph(ctx){if(!morphState.active)return;const w=morphCanvas?morphCanvas.width:0;const h=morphCanvas?morphCanvas.height:0;ctx.clearRect(0,0,w,h);morphState.t=Math.min(1,morphState.t+0.008);const ease=t=>1-Math.pow(1-t,3);const t=ease(morphState.t);for(let i=0;i<particles.length;i++){const p=particles[i];const target=heartTargets[i%heartTargets.length];p.x+=(target.x-p.x)*(0.03+t*0.08);p.y+=(target.y-p.y)*(0.03+t*0.08);ctx.fillStyle=\"hsla(\".concat(p.hue,\"deg, 90%, \").concat(60+Math.sin(i)*10,\"%, \").concat(0.35+0.45*t,\")\");ctx.beginPath();ctx.arc(p.x,p.y,p.size*DPR*(0.8+t),0,Math.PI*2);ctx.fill();}}// Main loop\nconst confettiCtx=confettiCanvas?confettiCanvas.getContext('2d'):null;const heartsCtx=heartsCanvas?heartsCanvas.getContext('2d'):null;const morphCtx=morphCanvas?morphCanvas.getContext('2d'):null;let rafId;function loop(){if(confettiCtx&&confettiCanvas)confettiCtx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);if(heartsCtx&&heartsCanvas)heartsCtx.clearRect(0,0,heartsCanvas.width,heartsCanvas.height);if(confettiCtx)drawConfetti(confettiCtx);if(heartsCtx)drawHearts(heartsCtx);if(morphCtx)drawMorph(morphCtx);rafId=requestAnimationFrame(loop);}// Init\nsetFromQuery();render();loop();// Cleanup\nreturn()=>{try{rafId&&cancelAnimationFrame(rafId);}catch(_unused4){}window.removeEventListener('resize',handleResize);scene&&scene.removeEventListener('mousemove',handleMouseMove);scene&&scene.removeEventListener('mouseleave',handleMouseLeave);};},[onUnlock]);return/*#__PURE__*/_jsxs(\"main\",{className:\"scene\",id:\"scene\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-particles\",id:\"bgParticles\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"canvas\",{id:\"confettiCanvas\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"canvas\",{id:\"heartsCanvas\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"canvas\",{id:\"morphCanvas\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(\"header\",{className:\"hero\",children:/*#__PURE__*/_jsxs(\"h1\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"script\",children:\"Love\"}),\" Lock\"]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"lock-card\",id:\"lockCard\",\"aria-label\":\"Love Lock\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lock-3d\",id:\"lock3d\",role:\"img\",\"aria-label\":\"\\u0E01\\u0E38\\u0E0D\\u0E41\\u0E08\\u0E23\\u0E39\\u0E1B\\u0E2B\\u0E31\\u0E27\\u0E43\\u0E08\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"lock-svg\",viewBox:\"0 0 200 260\",width:\"260\",height:\"260\",xmlns:\"http://www.w3.org/2000/svg\",children:[/*#__PURE__*/_jsxs(\"defs\",{children:[/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"bodyGrad\",x1:\"0\",x2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#ff6a88\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#ff99ac\"})]}),/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"metal\",x1:\"0\",x2:\"0\",y1:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#eef2f3\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"50%\",stopColor:\"#cfd9df\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"100%\",stopColor:\"#eef2f3\"})]}),/*#__PURE__*/_jsxs(\"radialGradient\",{id:\"gloss\",cx:\"50%\",cy:\"0%\",r:\"80%\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"0%\",stopColor:\"#ffffff\",stopOpacity:\"0.6\"}),/*#__PURE__*/_jsx(\"stop\",{offset:\"60%\",stopColor:\"#ffffff\",stopOpacity:\"0.0\"})]}),/*#__PURE__*/_jsx(\"filter\",{id:\"softShadow\",x:\"-50%\",y:\"-50%\",width:\"200%\",height:\"200%\",children:/*#__PURE__*/_jsx(\"feDropShadow\",{dx:\"0\",dy:\"8\",stdDeviation:\"12\",floodColor:\"#ff2d55\",floodOpacity:\"0.25\"})}),/*#__PURE__*/_jsxs(\"filter\",{id:\"inner\",x:\"-20%\",y:\"-20%\",width:\"140%\",height:\"140%\",children:[/*#__PURE__*/_jsx(\"feGaussianBlur\",{in:\"SourceAlpha\",stdDeviation:\"3\",result:\"blur\"}),/*#__PURE__*/_jsx(\"feOffset\",{dy:\"2\",result:\"offset\"}),/*#__PURE__*/_jsx(\"feComposite\",{in:\"offset\",in2:\"SourceAlpha\",operator:\"arithmetic\",k2:\"-1\",k3:\"1\",result:\"innerShadow\"}),/*#__PURE__*/_jsx(\"feColorMatrix\",{in:\"innerShadow\",type:\"matrix\",values:\"0 0 0 0 0.4  0 0 0 0 0.02  0 0 0 0 0.12  0 0 0 0.9 0\"}),/*#__PURE__*/_jsx(\"feComposite\",{in2:\"SourceGraphic\",operator:\"over\"})]})]}),/*#__PURE__*/_jsx(\"g\",{id:\"shackle\",className:\"shackle\",filter:\"url(#softShadow)\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M50,90 C50,40 80,20 100,20 C120,20 150,40 150,90 L150,120 L130,120 L130,90 C130,60 115,50 100,50 C85,50 70,60 70,90 L70,120 L50,120 Z\",fill:\"url(#metal)\"})}),/*#__PURE__*/_jsxs(\"g\",{id:\"body\",className:\"body\",filter:\"url(#inner)\",children:[/*#__PURE__*/_jsx(\"rect\",{x:\"30\",y:\"110\",rx:\"22\",ry:\"22\",width:\"140\",height:\"120\",fill:\"url(#bodyGrad)\"}),/*#__PURE__*/_jsx(\"ellipse\",{cx:\"100\",cy:\"132\",rx:\"60\",ry:\"18\",fill:\"url(#gloss)\",opacity:\"0.35\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M100 170 a20 20 0 1 0 0.0001 0\",fill:\"#ff2d55\",opacity:\"0.18\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"100\",cy:\"170\",r:\"12\",fill:\"#2d0b16\"}),/*#__PURE__*/_jsx(\"rect\",{x:\"96\",y:\"160\",width:\"8\",height:\"18\",rx:\"4\",fill:\"#0b0204\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dials\",role:\"group\",\"aria-label\":\"\\u0E43\\u0E2A\\u0E48\\u0E40\\u0E25\\u0E02\\u0E23\\u0E2B\\u0E31\\u0E2A 5 \\u0E2B\\u0E25\\u0E31\\u0E01\\u0E1A\\u0E19\\u0E01\\u0E38\\u0E0D\\u0E41\\u0E08\",children:[0,1,2,3,4].map(idx=>/*#__PURE__*/_jsxs(\"div\",{className:\"dial\",\"data-index\":idx,\"aria-label\":\"\\u0E2B\\u0E25\\u0E31\\u0E01\\u0E17\\u0E35\\u0E48 \".concat(idx+1),tabIndex:0,children:[/*#__PURE__*/_jsx(\"button\",{className:\"arrow up\",\"aria-label\":\"\\u0E40\\u0E1E\\u0E34\\u0E48\\u0E21\\u0E40\\u0E25\\u0E02\",children:\"\\u25B2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"digit\",\"data-value\":\"0\",children:\"0\"}),/*#__PURE__*/_jsx(\"div\",{className:\"reel\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reel-track\",children:[0,1,2,3,4,5,6,7,8,9].map(n=>/*#__PURE__*/_jsx(\"div\",{className:\"reel-num\",children:n},n))})}),/*#__PURE__*/_jsx(\"button\",{className:\"arrow down\",\"aria-label\":\"\\u0E25\\u0E14\\u0E40\\u0E25\\u0E02\",children:\"\\u25BC\"})]},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"love-message\",id:\"loveMessage\",hidden:true,children:/*#__PURE__*/_jsx(\"h2\",{className:\"script\",children:\"Locked in Love\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"love-overlay\",id:\"loveOverlay\",hidden:true})]});}export default LoveLock;","map":{"version":3,"names":["React","useEffect","jsx","_jsx","jsxs","_jsxs","LoveLock","_ref","onUnlock","TARGET_CODE","dials","Array","from","document","querySelectorAll","digits","map","d","querySelector","upButtons","downButtons","lock3d","getElementById","lockCard","loveMessage","loveOverlay","scene","values","audioCtx","lastTickTime","tickPlaybackRate","clampDigit","n","render","forEach","i","textContent","String","dataset","value","nudge","index","delta","wobble","playTick","digitEl","animate","transform","opacity","concat","duration","easing","transformOrigin","pulse","el","ensureAudio","window","AudioContext","webkitAudioContext","_unused","now","currentTime","dt","Math","min","max","osc","createOscillator","gain","createGain","filter","createBiquadFilter","type","frequency","setValueAtTime","exponentialRampToValueAtTime","connect","destination","start","stop","shake","fireConfetti","spawnConfetti","animateShine","spawnHearts","checkUnlock","isCorrect","every","v","classList","remove","hidden","navigator","vibrate","_unused2","add","requestAnimationFrame","_unused3","startMorphToHeart","setTimeout","setFromQuery","params","URLSearchParams","location","search","code","get","test","split","c","Number","handleMouseMove","e","rect","getBoundingClientRect","x","clientX","left","width","y","clientY","top","height","style","toFixed","handleMouseLeave","addEventListener","btn","holdInt","holdTimeout","holdStarted","isPressing","activePointerId","startHold","setInterval","clearHold","clearTimeout","clearInterval","pointerId","setPointerCapture","release","wasHold","preventDefault","stopPropagation","dial","ev","upEl","target","closest","downEl","key","step","sign","deltaY","passive","startY","acc","dragging","STEP_PX","dy","steps","trunc","confettiCanvas","heartsCanvas","morphCanvas","DPR","devicePixelRatio","fitCanvas","canvas","innerWidth","w","innerHeight","h","floor","handleResize","heartTargets","buildHeartTargets","bg","children","length","COUNT","createElement","className","random","animationDelay","animationDuration","appendChild","confetti","burst","arguments","undefined","cw","ch","push","vx","vy","g","hue","size","life","drawConfetti","ctx","save","translate","rotate","fillStyle","fillRect","restore","hearts","count","alpha","drawHeart","color","scale","beginPath","moveTo","bezierCurveTo","fill","drawHearts","morphState","active","t","particles","PARTICLE_COUNT","createParticles","tx","ty","heartPoint","u","pow","sin","cos","center","targets","PI","p","_document$getElementB","drawMorph","clearRect","ease","arc","confettiCtx","getContext","heartsCtx","morphCtx","rafId","loop","cancelAnimationFrame","_unused4","removeEventListener","id","role","viewBox","xmlns","x1","x2","offset","stopColor","y1","y2","cx","cy","r","stopOpacity","dx","stdDeviation","floodColor","floodOpacity","in","result","in2","operator","k2","k3","rx","ry","idx","tabIndex"],"sources":["C:/Users/feung/Downloads/heartbeat-monitor/src/components/LoveLock.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport './LoveLock.css';\r\n\r\nfunction LoveLock({ onUnlock }) {\r\n\tuseEffect(() => {\r\n\t\t// ==== Setup DOM references (after mount) ====\r\n\t\tconst TARGET_CODE = [2, 1, 8, 0, 3];\r\n\r\n\t\tconst dials = Array.from(document.querySelectorAll('.dial'));\r\n\t\tconst digits = dials.map((d) => d.querySelector('.digit'));\r\n\t\tconst upButtons = dials.map((d) => d.querySelector('.up'));\r\n\t\tconst downButtons = dials.map((d) => d.querySelector('.down'));\r\n\t\tconst lock3d = document.getElementById('lock3d');\r\n\t\tconst lockCard = document.getElementById('lockCard');\r\n\t\tconst loveMessage = document.getElementById('loveMessage');\r\n\t\tconst loveOverlay = document.getElementById('loveOverlay');\r\n\t\tconst scene = document.getElementById('scene');\r\n\r\n\t\tlet values = [0, 0, 0, 0, 0];\r\n\t\tlet audioCtx;\r\n\t\tlet lastTickTime = 0;\r\n\t\tlet tickPlaybackRate = 1;\r\n\r\n\t\tfunction clampDigit(n) {\r\n\t\t\treturn (n + 10) % 10;\r\n\t\t}\r\n\t\tfunction render() {\r\n\t\t\tdigits.forEach((d, i) => {\r\n\t\t\t\tif (!d) return;\r\n\t\t\t\td.textContent = String(values[i]);\r\n\t\t\t\td.dataset.value = String(values[i]);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction nudge(index, delta) {\r\n\t\t\tvalues[index] = clampDigit(values[index] + delta);\r\n\t\t\trender();\r\n\t\t\twobble(index, delta);\r\n\t\t\tplayTick();\r\n\t\t}\r\n\r\n\t\tfunction wobble(index, delta) {\r\n\t\t\tconst digitEl = digits[index];\r\n\t\t\tif (!digitEl || !digitEl.animate) return;\r\n\t\t\tdigitEl.animate(\r\n\t\t\t\t[\r\n\t\t\t\t\t{ transform: 'rotateX(0deg)', opacity: 1 },\r\n\t\t\t\t\t{ transform: `rotateX(${delta > 0 ? -70 : 70}deg)`, opacity: 0.4 },\r\n\t\t\t\t\t{ transform: 'rotateX(0deg)', opacity: 1 },\r\n\t\t\t\t],\r\n\t\t\t\t{ duration: 160, easing: 'cubic-bezier(0.22, 1, 0.36, 1)', transformOrigin: '50% 50%' }\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction pulse(el) {\r\n\t\t\tif (!el || !el.animate) return;\r\n\t\t\tel.animate(\r\n\t\t\t\t[\r\n\t\t\t\t\t{ transform: 'scale(1)' },\r\n\t\t\t\t\t{ transform: 'scale(1.04)' },\r\n\t\t\t\t\t{ transform: 'scale(1)' },\r\n\t\t\t\t],\r\n\t\t\t\t{ duration: 220, easing: 'ease-out' }\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction ensureAudio() {\r\n\t\t\tif (!audioCtx) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\taudioCtx = new (window.AudioContext || window.webkitAudioContext)();\r\n\t\t\t\t} catch {}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction playTick() {\r\n\t\t\tensureAudio();\r\n\t\t\tif (!audioCtx) return;\r\n\t\t\tconst now = audioCtx.currentTime;\r\n\t\t\tconst dt = now - lastTickTime;\r\n\t\t\tlastTickTime = now;\r\n\t\t\ttickPlaybackRate = Math.min(1.6, 0.9 + (1 / Math.max(0.05, dt)) * 0.04);\r\n\r\n\t\t\tconst osc = audioCtx.createOscillator();\r\n\t\t\tconst gain = audioCtx.createGain();\r\n\t\t\tconst filter = audioCtx.createBiquadFilter();\r\n\t\t\tfilter.type = 'lowpass';\r\n\t\t\tfilter.frequency.value = 2200;\r\n\t\t\tosc.type = 'triangle';\r\n\t\t\tosc.frequency.setValueAtTime(480 * tickPlaybackRate, now);\r\n\t\t\tgain.gain.setValueAtTime(0.0001, now);\r\n\t\t\tgain.gain.exponentialRampToValueAtTime(0.08, now + 0.005);\r\n\t\t\tgain.gain.exponentialRampToValueAtTime(0.0001, now + 0.06);\r\n\t\t\tosc.connect(filter);\r\n\t\t\tfilter.connect(gain);\r\n\t\t\tgain.connect(audioCtx.destination);\r\n\t\t\tosc.start(now);\r\n\t\t\tosc.stop(now + 0.08);\r\n\t\t}\r\n\r\n\t\tfunction shake(el) {\r\n\t\t\tif (!el || !el.animate) return;\r\n\t\t\tel.animate(\r\n\t\t\t\t[\r\n\t\t\t\t\t{ transform: 'translateX(0)' },\r\n\t\t\t\t\t{ transform: 'translateX(-6px)' },\r\n\t\t\t\t\t{ transform: 'translateX(6px)' },\r\n\t\t\t\t\t{ transform: 'translateX(-4px)' },\r\n\t\t\t\t\t{ transform: 'translateX(4px)' },\r\n\t\t\t\t\t{ transform: 'translateX(0)' },\r\n\t\t\t\t],\r\n\t\t\t\t{ duration: 360, easing: 'ease-in-out' }\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfunction fireConfetti() {\r\n\t\t\tspawnConfetti(160);\r\n\t\t}\r\n\r\n\t\tfunction animateShine() {\r\n\t\t\tif (!lock3d || !lock3d.animate) return;\r\n\t\t\tlock3d.animate(\r\n\t\t\t\t[\r\n\t\t\t\t\t{ filter: 'drop-shadow(0 10px 24px rgba(255, 61, 110, 0.25))' },\r\n\t\t\t\t\t{ filter: 'drop-shadow(0 10px 24px rgba(255, 61, 110, 0.6))' },\r\n\t\t\t\t\t{ filter: 'drop-shadow(0 10px 24px rgba(255, 61, 110, 0.25))' },\r\n\t\t\t\t],\r\n\t\t\t\t{ duration: 900, easing: 'ease-in-out' }\r\n\t\t\t);\r\n\t\t\tspawnHearts(18);\r\n\t\t}\r\n\r\n\t\tfunction checkUnlock() {\r\n\t\t\tconst isCorrect = values.every((v, i) => v === TARGET_CODE[i]);\r\n\t\t\tif (!isCorrect) {\r\n\t\t\t\tlockCard && lockCard.classList.remove('unlocked');\r\n\t\t\t\tif (loveMessage) {\r\n\t\t\t\t\tloveMessage.hidden = true;\r\n\t\t\t\t\tloveMessage.classList.remove('show');\r\n\t\t\t\t}\r\n\t\t\t\ttry { navigator.vibrate && navigator.vibrate(80); } catch {}\r\n\t\t\t\tshake(lockCard);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tlockCard && lockCard.classList.add('unlocked');\r\n\t\t\tpulse(lock3d);\r\n\t\t\tfireConfetti();\r\n\t\t\tif (loveMessage) {\r\n\t\t\t\tloveMessage.hidden = false;\r\n\t\t\t\trequestAnimationFrame(() => loveMessage.classList.add('show'));\r\n\t\t\t}\r\n\t\t\tanimateShine();\r\n\t\t\ttry { navigator.vibrate && navigator.vibrate([30, 60, 30]); } catch {}\r\n\r\n\t\t\tstartMorphToHeart();\r\n\r\n\t\t\t// Trigger unlocking of HBD screen shortly after success animation starts\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tonUnlock && onUnlock();\r\n\t\t\t}, 1000);\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tfunction setFromQuery() {\r\n\t\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t\tconst code = params.get('code');\r\n\t\t\tif (code && /^\\d{5}$/.test(code)) {\r\n\t\t\t\tvalues = code.split('').map((c) => Number(c));\r\n\t\t\t\trender();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Parallax\r\n\t\tfunction handleMouseMove(e) {\r\n\t\t\tif (!lockCard) return;\r\n\t\t\tconst rect = lockCard.getBoundingClientRect();\r\n\t\t\tconst x = (e.clientX - rect.left) / rect.width - 0.5;\r\n\t\t\tconst y = (e.clientY - rect.top) / rect.height - 0.5;\r\n\t\t\tlockCard.style.transform = `rotateX(${(-y * 8).toFixed(2)}deg) rotateY(${(x * 12).toFixed(2)}deg)`;\r\n\t\t}\r\n\t\tfunction handleMouseLeave() {\r\n\t\t\tif (!lockCard) return;\r\n\t\t\tlockCard.style.transform = 'rotateX(0deg) rotateY(0deg)';\r\n\t\t}\r\n\t\tscene && scene.addEventListener('mousemove', handleMouseMove);\r\n\t\tscene && scene.addEventListener('mouseleave', handleMouseLeave);\r\n\r\n\t\t// Bind buttons and interactions\r\n\t\tupButtons.forEach((btn, i) => {\r\n\t\t\tif (!btn) return;\r\n\t\t\tlet holdInt;\r\n\t\t\tlet holdTimeout;\r\n\t\t\tlet holdStarted = false;\r\n\t\t\tlet isPressing = false;\r\n\t\t\tlet activePointerId = null;\r\n\t\t\tconst startHold = () => {\r\n\t\t\t\tholdStarted = true;\r\n\t\t\t\tnudge(i, +1);\r\n\t\t\t\tcheckUnlock();\r\n\t\t\t\tholdInt = setInterval(() => {\r\n\t\t\t\t\tnudge(i, +1);\r\n\t\t\t\t\tcheckUnlock();\r\n\t\t\t\t}, 120);\r\n\t\t\t};\r\n\t\t\tconst clearHold = () => {\r\n\t\t\t\tif (holdTimeout) { clearTimeout(holdTimeout); holdTimeout = null; }\r\n\t\t\t\tif (holdInt) { clearInterval(holdInt); holdInt = null; }\r\n\t\t\t};\r\n\t\t\tbtn.addEventListener('pointerdown', (e) => {\r\n\t\t\t\tisPressing = true;\r\n\t\t\t\tactivePointerId = e.pointerId;\r\n\t\t\t\tholdStarted = false;\r\n\t\t\t\tholdTimeout = setTimeout(startHold, 300);\r\n\t\t\t\tif (btn.setPointerCapture) btn.setPointerCapture(e.pointerId);\r\n\t\t\t});\r\n\t\t\tconst release = (e) => {\r\n\t\t\t\tif (!isPressing) return;\r\n\t\t\t\tif (e && activePointerId !== null && e.pointerId !== activePointerId) return;\r\n\t\t\t\tconst wasHold = holdStarted;\r\n\t\t\t\tisPressing = false;\r\n\t\t\t\tactivePointerId = null;\r\n\t\t\t\tclearHold();\r\n\t\t\t\tif (!wasHold) {\r\n\t\t\t\t\tnudge(i, +1);\r\n\t\t\t\t\tcheckUnlock();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tbtn.addEventListener('pointerup', release);\r\n\t\t\tbtn.addEventListener('pointerleave', release);\r\n\t\t\tbtn.addEventListener('pointercancel', release);\r\n\t\t\tbtn.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); });\r\n\t\t});\r\n\r\n\t\tdownButtons.forEach((btn, i) => {\r\n\t\t\tif (!btn) return;\r\n\t\t\tlet holdInt;\r\n\t\t\tlet holdTimeout;\r\n\t\t\tlet holdStarted = false;\r\n\t\t\tlet isPressing = false;\r\n\t\t\tlet activePointerId = null;\r\n\t\t\tconst startHold = () => {\r\n\t\t\t\tholdStarted = true;\r\n\t\t\t\tnudge(i, -1);\r\n\t\t\t\tcheckUnlock();\r\n\t\t\t\tholdInt = setInterval(() => {\r\n\t\t\t\t\tnudge(i, -1);\r\n\t\t\t\t\tcheckUnlock();\r\n\t\t\t\t}, 120);\r\n\t\t\t};\r\n\t\t\tconst clearHold = () => {\r\n\t\t\t\tif (holdTimeout) { clearTimeout(holdTimeout); holdTimeout = null; }\r\n\t\t\t\tif (holdInt) { clearInterval(holdInt); holdInt = null; }\r\n\t\t\t};\r\n\t\t\tbtn.addEventListener('pointerdown', (e) => {\r\n\t\t\t\tisPressing = true;\r\n\t\t\t\tactivePointerId = e.pointerId;\r\n\t\t\t\tholdStarted = false;\r\n\t\t\t\tholdTimeout = setTimeout(startHold, 300);\r\n\t\t\t\tif (btn.setPointerCapture) btn.setPointerCapture(e.pointerId);\r\n\t\t\t});\r\n\t\t\tconst release = (e) => {\r\n\t\t\t\tif (!isPressing) return;\r\n\t\t\t\tif (e && activePointerId !== null && e.pointerId !== activePointerId) return;\r\n\t\t\t\tconst wasHold = holdStarted;\r\n\t\t\t\tisPressing = false;\r\n\t\t\t\tactivePointerId = null;\r\n\t\t\t\tclearHold();\r\n\t\t\t\tif (!wasHold) {\r\n\t\t\t\t\tnudge(i, -1);\r\n\t\t\t\t\tcheckUnlock();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tbtn.addEventListener('pointerup', release);\r\n\t\t\tbtn.addEventListener('pointerleave', release);\r\n\t\t\tbtn.addEventListener('pointercancel', release);\r\n\t\t\tbtn.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); });\r\n\t\t});\r\n\r\n\t\t// Keyboard, wheel, and drag support on dials\r\n\t\tdials.forEach((dial, i) => {\r\n\t\t\tif (!dial) return;\r\n\t\t\tdial.addEventListener('click', (ev) => {\r\n\t\t\t\tconst upEl = ev.target.closest('.up');\r\n\t\t\t\tconst downEl = ev.target.closest('.down');\r\n\t\t\t\tif (upEl) { nudge(i, +1); checkUnlock(); return; }\r\n\t\t\t\tif (downEl) { nudge(i, -1); checkUnlock(); return; }\r\n\t\t\t\tconst rect = dial.getBoundingClientRect();\r\n\t\t\t\tconst y = ev.clientY - rect.top;\r\n\t\t\t\tif (y < rect.height / 2) { nudge(i, +1); } else { nudge(i, -1); }\r\n\t\t\t\tcheckUnlock();\r\n\t\t\t});\r\n\r\n\t\t\tdial.addEventListener('keydown', (ev) => {\r\n\t\t\t\tif (ev.key === 'ArrowUp') { nudge(i, +1); ev.preventDefault(); checkUnlock(); }\r\n\t\t\t\tif (ev.key === 'ArrowDown') { nudge(i, -1); ev.preventDefault(); checkUnlock(); }\r\n\t\t\t\tif (ev.key === 'Enter') { checkUnlock(); ev.preventDefault(); }\r\n\t\t\t});\r\n\r\n\t\t\tdial.addEventListener('wheel', (ev) => {\r\n\t\t\t\tev.preventDefault();\r\n\t\t\t\tconst step = Math.sign(-ev.deltaY);\r\n\t\t\t\tif (step !== 0) { nudge(i, step); checkUnlock(); }\r\n\t\t\t}, { passive: false });\r\n\r\n\t\t\tlet startY = 0;\r\n\t\t\tlet acc = 0;\r\n\t\t\tlet dragging = false;\r\n\t\t\tconst STEP_PX = 18;\r\n\t\t\tdial.addEventListener('pointerdown', (ev) => {\r\n\t\t\t\tif (ev.target.closest('.arrow')) return;\r\n\t\t\t\tdragging = true; startY = ev.clientY; acc = 0;\r\n\t\t\t\tdial.setPointerCapture(ev.pointerId);\r\n\t\t\t\tdial.classList.add('active');\r\n\t\t\t});\r\n\t\t\tdial.addEventListener('pointermove', (ev) => {\r\n\t\t\t\tif (!dragging) return;\r\n\t\t\t\tconst dy = startY - ev.clientY;\r\n\t\t\t\tconst steps = Math.trunc((dy - acc) / STEP_PX);\r\n\t\t\t\tif (steps !== 0) { acc += steps * STEP_PX; nudge(i, steps); checkUnlock(); }\r\n\t\t\t});\r\n\t\t\tdial.addEventListener('pointerup', () => { dragging = false; acc = 0; dial.classList.remove('active'); });\r\n\t\t\tdial.addEventListener('pointercancel', () => { dragging = false; acc = 0; dial.classList.remove('active'); });\r\n\t\t});\r\n\r\n\t\t// Canvases\r\n\t\tconst confettiCanvas = document.getElementById('confettiCanvas');\r\n\t\tconst heartsCanvas = document.getElementById('heartsCanvas');\r\n\t\tconst morphCanvas = document.getElementById('morphCanvas');\r\n\t\tconst DPR = Math.min(2, window.devicePixelRatio || 1);\r\n\r\n\t\tfunction fitCanvas(canvas) {\r\n\t\t\tif (!canvas) return;\r\n\t\t\tconst { innerWidth: w, innerHeight: h } = window;\r\n\t\t\tcanvas.width = Math.floor(w * DPR);\r\n\t\t\tcanvas.height = Math.floor(h * DPR);\r\n\t\t\tcanvas.style.width = w + 'px';\r\n\t\t\tcanvas.style.height = h + 'px';\r\n\t\t}\r\n\t\tfitCanvas(confettiCanvas);\r\n\t\tfitCanvas(heartsCanvas);\r\n\t\tfitCanvas(morphCanvas);\r\n\t\tconst handleResize = () => {\r\n\t\t\tfitCanvas(confettiCanvas);\r\n\t\t\tfitCanvas(heartsCanvas);\r\n\t\t\tfitCanvas(morphCanvas);\r\n\t\t\trender();\r\n\t\t\theartTargets = buildHeartTargets();\r\n\t\t};\r\n\t\twindow.addEventListener('resize', handleResize);\r\n\r\n\t\t// Background particles\r\n\t\tconst bg = document.getElementById('bgParticles');\r\n\t\tif (bg && bg.children.length === 0) {\r\n\t\t\tconst COUNT = 60;\r\n\t\t\tfor (let i = 0; i < COUNT; i++) {\r\n\t\t\t\tconst el = document.createElement('div');\r\n\t\t\t\tel.className = 'particle';\r\n\t\t\t\tel.style.left = Math.random() * 100 + 'vw';\r\n\t\t\t\tel.style.animationDelay = (Math.random() * 20).toFixed(2) + 's';\r\n\t\t\t\tel.style.animationDuration = (16 + Math.random() * 16).toFixed(2) + 's';\r\n\t\t\t\tel.style.opacity = (0.3 + Math.random() * 0.6).toFixed(2);\r\n\t\t\t\tbg.appendChild(el);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Confetti\r\n\t\tlet confetti = [];\r\n\t\tfunction spawnConfetti(burst = 120) {\r\n\t\t\tif (!confettiCanvas) return;\r\n\t\t\tconst cw = confettiCanvas.width;\r\n\t\t\tconst ch = confettiCanvas.height;\r\n\t\t\tfor (let i = 0; i < burst; i++) {\r\n\t\t\t\tconfetti.push({\r\n\t\t\t\t\tx: cw / 2,\r\n\t\t\t\t\ty: ch * 0.25,\r\n\t\t\t\t\tvx: (Math.random() - 0.5) * 6 * DPR,\r\n\t\t\t\t\tvy: (Math.random() * -6 - 2) * DPR,\r\n\t\t\t\t\tg: 0.15 * DPR,\r\n\t\t\t\t\thue: 330 + Math.random() * 40,\r\n\t\t\t\t\tsize: 3 + Math.random() * 3,\r\n\t\t\t\t\tlife: 100 + Math.random() * 60,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction drawConfetti(ctx) {\r\n\t\t\tconfetti = confetti.filter((c) => c.life > 0);\r\n\t\t\tfor (const c of confetti) {\r\n\t\t\t\tc.x += c.vx; c.y += c.vy; c.vy += c.g; c.life -= 1;\r\n\t\t\t\tctx.save(); ctx.translate(c.x, c.y);\r\n\t\t\t\tctx.rotate((c.x + c.y) * 0.01);\r\n\t\t\t\tctx.fillStyle = `hsl(${c.hue}deg 90% 60% / 0.95)`;\r\n\t\t\t\tctx.fillRect(-c.size, -c.size, c.size * 2, c.size * 2);\r\n\t\t\t\tctx.restore();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Hearts\r\n\t\tlet hearts = [];\r\n\t\tfunction spawnHearts(count = 12) {\r\n\t\t\tif (!heartsCanvas) return;\r\n\t\t\tconst w = heartsCanvas.width; const h = heartsCanvas.height;\r\n\t\t\tfor (let i = 0; i < count; i++) {\r\n\t\t\t\tconst x = Math.random() * w; const y = h + Math.random() * 60;\r\n\t\t\t\thearts.push({\r\n\t\t\t\t\tx,\r\n\t\t\t\t\ty,\r\n\t\t\t\t\tvx: (Math.random() - 0.5) * 0.6 * DPR,\r\n\t\t\t\t\tvy: -(1.2 + Math.random() * 0.8) * DPR,\r\n\t\t\t\t\tsize: 10 + Math.random() * 14,\r\n\t\t\t\t\talpha: 0.6 + Math.random() * 0.4,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction drawHeart(ctx, x, y, size, color, alpha) {\r\n\t\t\tctx.save(); ctx.translate(x, y); ctx.scale(size, size);\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.moveTo(0, -0.5);\r\n\t\t\tctx.bezierCurveTo(0.5, -1.2, 1.8, -0.1, 0, 1);\r\n\t\t\tctx.bezierCurveTo(-1.8, -0.1, -0.5, -1.2, 0, -0.5);\r\n\t\t\tctx.fillStyle = `rgba(255, 61, 110, ${alpha})`;\r\n\t\t\tctx.fill(); ctx.restore();\r\n\t\t}\r\n\r\n\t\tfunction drawHearts(ctx) {\r\n\t\t\thearts = hearts.filter((h) => h.y > -40);\r\n\t\t\tfor (const h of hearts) { h.x += h.vx; h.y += h.vy; drawHeart(ctx, h.x, h.y, h.size, '#ff3d6e', h.alpha); }\r\n\t\t}\r\n\r\n\t\t// Morph to heart\r\n\t\tlet morphState = { active: false, t: 0 };\r\n\t\tlet particles = [];\r\n\t\tconst PARTICLE_COUNT = 600;\r\n\r\n\t\tfunction createParticles() {\r\n\t\t\tconst w = morphCanvas ? morphCanvas.width : 0;\r\n\t\t\tconst h = morphCanvas ? morphCanvas.height : 0;\r\n\t\t\tparticles = Array.from({ length: PARTICLE_COUNT }).map(() => ({\r\n\t\t\t\tx: Math.random() * w,\r\n\t\t\t\ty: Math.random() * h,\r\n\t\t\t\tvx: (Math.random() - 0.5) * 0.3 * DPR,\r\n\t\t\t\tvy: (Math.random() - 0.5) * 0.3 * DPR,\r\n\t\t\t\ttx: 0,\r\n\t\t\t\tty: 0,\r\n\t\t\t\tsize: 1 + Math.random() * 2,\r\n\t\t\t\thue: 330 + Math.random() * 40,\r\n\t\t\t}));\r\n\t\t}\r\n\t\tcreateParticles();\r\n\r\n\t\tfunction heartPoint(u, v, scale = 1) {\r\n\t\t\tconst x = 16 * Math.pow(Math.sin(u), 3);\r\n\t\t\tconst y = 13 * Math.cos(u) - 5 * Math.cos(2 * u) - 2 * Math.cos(3 * u) - Math.cos(4 * u);\r\n\t\t\treturn { x: x * scale + v.x, y: -y * scale + v.y };\r\n\t\t}\r\n\r\n\t\tfunction buildHeartTargets() {\r\n\t\t\tconst w = morphCanvas ? morphCanvas.width : 0;\r\n\t\t\tconst h = morphCanvas ? morphCanvas.height : 0;\r\n\t\t\tconst center = { x: w / 2, y: h / 2 };\r\n\t\t\tconst scale = Math.min(w, h) * 0.02;\r\n\t\t\tconst targets = [];\r\n\t\t\tfor (let i = 0; i < particles.length; i++) {\r\n\t\t\t\tconst u = (i / particles.length) * Math.PI * 2;\r\n\t\t\t\tconst p = heartPoint(u, center, scale);\r\n\t\t\t\ttargets.push(p);\r\n\t\t\t}\r\n\t\t\treturn targets;\r\n\t\t}\r\n\r\n\t\tlet heartTargets = buildHeartTargets();\r\n\r\n\t\tfunction startMorphToHeart() {\r\n\t\t\tmorphState.active = true; morphState.t = 0;\r\n\t\t\tdocument.getElementById('scene')?.classList.add('fade-out');\r\n\t\t\tif (loveOverlay) { loveOverlay.hidden = false; requestAnimationFrame(() => loveOverlay.classList.add('show')); }\r\n\t\t}\r\n\r\n\t\tfunction drawMorph(ctx) {\r\n\t\t\tif (!morphState.active) return;\r\n\t\t\tconst w = morphCanvas ? morphCanvas.width : 0;\r\n\t\t\tconst h = morphCanvas ? morphCanvas.height : 0;\r\n\t\t\tctx.clearRect(0, 0, w, h);\r\n\t\t\tmorphState.t = Math.min(1, morphState.t + 0.008);\r\n\t\t\tconst ease = (t) => 1 - Math.pow(1 - t, 3);\r\n\t\t\tconst t = ease(morphState.t);\r\n\t\t\tfor (let i = 0; i < particles.length; i++) {\r\n\t\t\t\tconst p = particles[i];\r\n\t\t\t\tconst target = heartTargets[i % heartTargets.length];\r\n\t\t\t\tp.x += (target.x - p.x) * (0.03 + t * 0.08);\r\n\t\t\t\tp.y += (target.y - p.y) * (0.03 + t * 0.08);\r\n\t\t\t\tctx.fillStyle = `hsla(${p.hue}deg, 90%, ${60 + Math.sin(i) * 10}%, ${0.35 + 0.45 * t})`;\r\n\t\t\t\tctx.beginPath(); ctx.arc(p.x, p.y, p.size * DPR * (0.8 + t), 0, Math.PI * 2); ctx.fill();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Main loop\r\n\t\tconst confettiCtx = confettiCanvas ? confettiCanvas.getContext('2d') : null;\r\n\t\tconst heartsCtx = heartsCanvas ? heartsCanvas.getContext('2d') : null;\r\n\t\tconst morphCtx = morphCanvas ? morphCanvas.getContext('2d') : null;\r\n\t\tlet rafId;\r\n\t\tfunction loop() {\r\n\t\t\tif (confettiCtx && confettiCanvas) confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);\r\n\t\t\tif (heartsCtx && heartsCanvas) heartsCtx.clearRect(0, 0, heartsCanvas.width, heartsCanvas.height);\r\n\t\t\tif (confettiCtx) drawConfetti(confettiCtx);\r\n\t\t\tif (heartsCtx) drawHearts(heartsCtx);\r\n\t\t\tif (morphCtx) drawMorph(morphCtx);\r\n\t\t\trafId = requestAnimationFrame(loop);\r\n\t\t}\r\n\r\n\t\t// Init\r\n\t\tsetFromQuery();\r\n\t\trender();\r\n\t\tloop();\r\n\r\n\t\t// Cleanup\r\n\t\treturn () => {\r\n\t\t\ttry { rafId && cancelAnimationFrame(rafId); } catch {}\r\n\t\t\twindow.removeEventListener('resize', handleResize);\r\n\t\t\tscene && scene.removeEventListener('mousemove', handleMouseMove);\r\n\t\t\tscene && scene.removeEventListener('mouseleave', handleMouseLeave);\r\n\t\t};\r\n\t}, [onUnlock]);\r\n\r\n\treturn (\r\n\t\t<main className=\"scene\" id=\"scene\">\r\n\t\t\t<div className=\"bg-particles\" id=\"bgParticles\" aria-hidden=\"true\"></div>\r\n\t\t\t<canvas id=\"confettiCanvas\" aria-hidden=\"true\"></canvas>\r\n\t\t\t<canvas id=\"heartsCanvas\" aria-hidden=\"true\"></canvas>\r\n\t\t\t<canvas id=\"morphCanvas\" aria-hidden=\"true\"></canvas>\r\n\r\n\t\t\t<header className=\"hero\">\r\n\t\t\t\t<h1><span className=\"script\">Love</span> Lock</h1>\r\n\t\t\t</header>\r\n\r\n\t\t\t<section className=\"lock-card\" id=\"lockCard\" aria-label=\"Love Lock\">\r\n\t\t\t\t<div className=\"lock-3d\" id=\"lock3d\" role=\"img\" aria-label=\"กุญแจรูปหัวใจ\">\r\n\t\t\t\t\t<svg className=\"lock-svg\" viewBox=\"0 0 200 260\" width=\"260\" height=\"260\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t\t\t<defs>\r\n\t\t\t\t\t\t\t<linearGradient id=\"bodyGrad\" x1=\"0\" x2=\"1\">\r\n\t\t\t\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#ff6a88\" />\r\n\t\t\t\t\t\t\t\t<stop offset=\"100%\" stopColor=\"#ff99ac\" />\r\n\t\t\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t\t\t<linearGradient id=\"metal\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\r\n\t\t\t\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#eef2f3\" />\r\n\t\t\t\t\t\t\t\t<stop offset=\"50%\" stopColor=\"#cfd9df\" />\r\n\t\t\t\t\t\t\t\t<stop offset=\"100%\" stopColor=\"#eef2f3\" />\r\n\t\t\t\t\t\t\t</linearGradient>\r\n\t\t\t\t\t\t\t<radialGradient id=\"gloss\" cx=\"50%\" cy=\"0%\" r=\"80%\">\r\n\t\t\t\t\t\t\t\t<stop offset=\"0%\" stopColor=\"#ffffff\" stopOpacity=\"0.6\" />\r\n\t\t\t\t\t\t\t\t<stop offset=\"60%\" stopColor=\"#ffffff\" stopOpacity=\"0.0\" />\r\n\t\t\t\t\t\t\t</radialGradient>\r\n\t\t\t\t\t\t\t<filter id=\"softShadow\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n\t\t\t\t\t\t\t\t<feDropShadow dx=\"0\" dy=\"8\" stdDeviation=\"12\" floodColor=\"#ff2d55\" floodOpacity=\"0.25\" />\r\n\t\t\t\t\t\t\t</filter>\r\n\t\t\t\t\t\t\t<filter id=\"inner\" x=\"-20%\" y=\"-20%\" width=\"140%\" height=\"140%\">\r\n\t\t\t\t\t\t\t\t<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"3\" result=\"blur\" />\r\n\t\t\t\t\t\t\t\t<feOffset dy=\"2\" result=\"offset\" />\r\n\t\t\t\t\t\t\t\t<feComposite in=\"offset\" in2=\"SourceAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" result=\"innerShadow\" />\r\n\t\t\t\t\t\t\t\t<feColorMatrix in=\"innerShadow\" type=\"matrix\" values=\"0 0 0 0 0.4  0 0 0 0 0.02  0 0 0 0 0.12  0 0 0 0.9 0\" />\r\n\t\t\t\t\t\t\t\t<feComposite in2=\"SourceGraphic\" operator=\"over\" />\r\n\t\t\t\t\t\t\t</filter>\r\n\t\t\t\t\t\t</defs>\r\n\r\n\t\t\t\t\t\t<g id=\"shackle\" className=\"shackle\" filter=\"url(#softShadow)\">\r\n\t\t\t\t\t\t\t<path d=\"M50,90 C50,40 80,20 100,20 C120,20 150,40 150,90 L150,120 L130,120 L130,90 C130,60 115,50 100,50 C85,50 70,60 70,90 L70,120 L50,120 Z\" fill=\"url(#metal)\" />\r\n\t\t\t\t\t\t</g>\r\n\r\n\t\t\t\t\t\t<g id=\"body\" className=\"body\" filter=\"url(#inner)\">\r\n\t\t\t\t\t\t\t<rect x=\"30\" y=\"110\" rx=\"22\" ry=\"22\" width=\"140\" height=\"120\" fill=\"url(#bodyGrad)\" />\r\n\t\t\t\t\t\t\t<ellipse cx=\"100\" cy=\"132\" rx=\"60\" ry=\"18\" fill=\"url(#gloss)\" opacity=\"0.35\" />\r\n\t\t\t\t\t\t\t<path d=\"M100 170 a20 20 0 1 0 0.0001 0\" fill=\"#ff2d55\" opacity=\"0.18\" />\r\n\t\t\t\t\t\t\t<circle cx=\"100\" cy=\"170\" r=\"12\" fill=\"#2d0b16\" />\r\n\t\t\t\t\t\t\t<rect x=\"96\" y=\"160\" width=\"8\" height=\"18\" rx=\"4\" fill=\"#0b0204\" />\r\n\t\t\t\t\t\t</g>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t\t<div className=\"dials\" role=\"group\" aria-label=\"ใส่เลขรหัส 5 หลักบนกุญแจ\">\r\n\t\t\t\t\t\t{[0,1,2,3,4].map((idx) => (\r\n\t\t\t\t\t\t\t<div className=\"dial\" data-index={idx} aria-label={`หลักที่ ${idx+1}`} tabIndex={0} key={idx}>\r\n\t\t\t\t\t\t\t\t<button className=\"arrow up\" aria-label=\"เพิ่มเลข\">▲</button>\r\n\t\t\t\t\t\t\t\t<div className=\"digit\" data-value=\"0\">0</div>\r\n\t\t\t\t\t\t\t\t<div className=\"reel\"><div className=\"reel-track\">\r\n\t\t\t\t\t\t\t\t\t{[0,1,2,3,4,5,6,7,8,9].map((n) => (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"reel-num\" key={n}>{n}</div>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</div></div>\r\n\t\t\t\t\t\t\t\t<button className=\"arrow down\" aria-label=\"ลดเลข\">▼</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"love-message\" id=\"loveMessage\" hidden>\r\n\t\t\t\t\t<h2 className=\"script\">Locked in Love</h2>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\r\n\t\t\t<div className=\"love-overlay\" id=\"loveOverlay\" hidden>\r\n\t\t\t</div>\r\n\t\t</main>\r\n\t);\r\n}\r\n\r\nexport default LoveLock;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}